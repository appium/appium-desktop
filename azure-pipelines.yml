# Node.js
# Build a general Node.js application with npm.
# Add steps that analyze code, save build artifacts, deploy, and more:
# https://docs.microsoft.com/vsts/pipelines/languages/javascript
jobs:
- template: ci-jobs/build.yml
  parameters:
    pool: 'Hosted MacOS Preview'
    name: 'osx_build'
- template: ci-jobs/build.yml
  parameters:
    pool: 'Hosted Windows 2019 with VS2019'
    name: 'windows_build'
- template: ci-jobs/build.yml
  parameters:
    pool: 'Hosted Ubuntu 1604'
    name: 'linux_build'
- job: GreenkeeperLockfile
  displayName: Update Greenkeeper lockfile
  pool: 'Hosted Ubuntu 1604'
  steps:
    - script: npm install -g greenkeeper-lockfile
      displayName: Install Greenkeeper lockfile
    - script: npm install
      displayName: NPM Install
    - script: greenkeeper-lockfile-update
      displayName: Update Greenkeeper lockfile
    - script: greenkeeper-lockfile-upload
      displayName: Upload updated Greenkeeper lockfile
