language: node_js
sudo: required
node: 
matrix:
  include:
  - os: osx
  - os: linux
node_js:
- '7'
before_install:
- if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then sudo apt-get install --no-install-recommends
  -y icnsutils graphicsmagick xz-utils; fi
addons:
  apt:
    packages:
    - xvfb
before_script:
- node --version
- npm install
- npm install -g electron
- node --version
- npm run package-ci
cache:
  directories:
  - node_modules
  - "$HOME/.electron"
  - "$HOME/.cache"
install:
- nvm install 7
- export DISPLAY=':99.0'
- Xvfb :99 -screen 0 1024x768x24 > /dev/null 2>&1 &
dist: trusty
env:
  # TODO: Replaces these EV's with appium specific: Needs CSC_LINK, CSC_KEY_PASSWORD, GH_TOKEN
  global:
  - secure: S07zcHGkF09e7Uvb6YO3MQzogAZwTEVQEuBdMGpK1Ba8aWt2As6luxhZeYevsv9bQ4DCL+qk7dqXlW+kvoLNt+9JYmuxh54t8XYSGWkPb8bhfBROc4SDH7IOuMpsALzsXna7fQ7pIwDrrNEH2JnDt4bjwRGwEkxuZlrLWiDDJwEmIw02q1prA1dTla5wQ2Lvc8wFoB7KGjLGADD0BbH1dzeATpRu49b5PPvSMGsfAenTiWwAXI5kaU28qdvN+Q3gvQbNEpO4pSAwNJPLNtUSol4F+uS00MRu+MCPxt/pJ8an9lWXDq1fqag4QDqi1SM50DahqSGO1uIajRQGBNPqNcTfKX53EhLnb0pOCbNpyQq6WUoLXvaXltOG9wMv/+jrWKsiZD7gPHVwUefxW/nWqFTuRbMHavAy88LS/MWePOCcWr9/IIG9BMAbAqhmvQH0M1E5ginXS5OPeMhcJJWXB+ZmMKSRDNksU8/jOJOLhvZnXUd02HiqZ8MAiMUcAt2zYE8JYnBCuhkS2iNTjfcdo5A42oK6g5Cu8kUHUsLXiG3D07kZxT+fLI9VcqhaJIKQ+m8m6n1170kKG0JIWNkJXJwwmOXEphBbz1taGjeu7odB8RyfzSvTscuFn0sppFIgVSEV/ZetUvNONUO/dNVT0WDJK5ZdQlEAhLRdCjuD2cc=
  - secure: Aft9GN9F3rBFPP4xLawEmt2dZGGL0qV9w0fD8M9RThzNO4j1T/CkUl658irS33HDmA4D9kCfPxtrdNUWF0Dl/mnGn6q3mEXCzssYsYoz0R+Ug42F82eZ1gfOKcQn4SS7r5uh8lOfSd6f1fnqcBRY5knrLP3gzczsdRstE5vDowrv7wtpGLBtPwL6zjbG4o83gS+eAgKw02JWmexoo16L8XFjYm+p8Z5EpzZa0gPuXFBudKURia6fgRucw+snB6goWqwxKayKNLImHxYTca1IMayMH64iam9w9vU/VusWeDdJwq3i9cGhvQDwYS0rXjQeAKcfGM2GXZuzd0KhVf08oBZ4FTzClnLX+lJ54nKPm6RWE3ULIQs4PuXsi5ren+Ix/DUnyRzyx4F5TUCKzZVI6Mo6T6fyl7OVThkT4LKDs358qP3oNfFfpRlVHEN/6nczt0/DQutDpwSn23zK/4CO4yRGUK5h9TJqnzKGSQvLZFaCN31ol12p3OEgLx4qBNIwLw8czgYHDpdFPlqb3FPICB8AoIjUl0yBhhNh/hGHVm10qsVB92hezM2ZzK+tSblApiey1c9aZnoAB/jGPzrXamhmiWHDIi+3otXlL1J8pZo8454bncXDOLK7TkCbKVRVk8Qy3WXpquMTNoXnFnl4RC8EgNHgInAabiT9SpMzGIY=
  - secure: HxAwKZio9IlDRk9ai3a++pArMWUNSmYZDYcvBIrW0EKLKSE44nF8HnLMs2ok8kp49PrkX1ZV3novJCOtsDkh2UaoLXtKMFzOH/yFrIWG0GZNN0YGyH+VwA2aeXXQn92NxNx/QSpdBEe+eYNogosRNmZPHV41V7rBcTa3YfkiXlH4RhUKGvLPvonS3nL7Yqnm40/wSJFvlGb0lG4q+cP1tVlRc28VfKYda5TZAds6ULyLul2hZmUrxrBcGBQ/JbgLhnP1K5wyo4YLnZMkyLlhQXPUMY3wtCjhl8kRNlkD1dzfKJ0rlMz0mEbjhsr2tbqFQe4TG4D64RDEb/RNrkCWBzuppfqgs49dw3DXXs/Ia3JoiG1yp+mqtRAoepmKKIT0ZWLU/NRTKPWw0pzPszr1NJlElaPZCgu6nOEqbN/w90KhzwB+tgxT3aNrIIfWxtnkScjLlZMnVzJrUNDvv/hcaLJ0H+xCgNHn0AK/USQx0XVvdZfDmXJ+WRrveoYrlalRDm6xjvebZayLLh8Cbty1fq/8t+K/R81S93Q4XzwaDU3o9DfiScWXnm6iA7eACtK+sr9tBFgwcJh+SfBwExflUM1E5kwYOcBSALG4g3uktoBoks6UpUsmlAHYo7iYFYkHoPzsA3dN5x9zzEY4SZQ4aOec3M10f2q0jPO1H2n8cBk=
  - secure: VpCAlmQI+PXnBJAGpG2gjmGfhFNDa9j+YEXEognC9PZK42gVq+wpxl6ERXYoOL1qQqHNVRQGlZe8rBxVi76g9qR+kUVf5fR7VPHM+fYKcfGGnU9b3Jq2rPdmP/qTXPSuvU8f5iGDMdfY/2bG4cEfeRT1HEap6kp2afQ4itkfmCVCuMxWfUL3Lmm8kR2dUWBV0mSDeHGGsKc2WjY19jKCC4/K9rL+pdXQjSbhFaOpL7fHqBqSHDIaBEkJBE4CEp0HAguoDyvmtQMlMSpoFNLtOXryykCxNtzGMaIvhj/shCNQRcKBaWLrKbfv4YVjQ3GP6oT950AumBFkvsIWtXATSENGg37Z2FyBxDYFXazrhk9nlp24EeZ8gmUcnXeioPiJreHz+ScYeq1ZvriMd4VPolGQzKf7veRz1479TnjW1NksW+0Vr2NI89C8J6k5DnXBCUnsPSbKpo+qxrdotWr97oSF78uRD7FC42dxCt7YCARYGjD/jbHTmFYoyukc1MwP0NBgIoya8EhmnjaRXsaNwC9gYLS2BBCthxrrptMVmfsTGTvxIPvUlYgvo7wBKSMWaDurNq2zHDjsQ2E6OZXkN7r4YgeDWe9FQ8UKMw+af5+EgQ7LCYtLsmqdO6doa1CTy7XpRTj9PNlCUNW40SuzcQIQhfM7aJG5vqKtDHOJcvc=
  